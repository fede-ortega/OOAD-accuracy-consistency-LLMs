["input": "public class PayPalGateway {\n    public boolean processPayment(double amount) {\n        System.out.println(\"Processing $\" + amount + \" via PayPal\");\n        return true;\n    }\n}\n\npublic class PaymentProcessor {\n    private PayPalGateway paypalGateway;\n    \n    public PaymentProcessor() {\n        this.paypalGateway = new PayPalGateway();\n    }\n    \n    public boolean processTransaction(double amount) {\n        return paypalGateway.processPayment(amount);\n    }\n}", "input": "abstract class GraphicObject {\n    private final String color;\n\n    protected GraphicObject(String color) {\n        this.color = color;\n    }\n\n    public String getColor() {\n        return color;\n    }\n}\n\nenum ShapeKind {\n    RECTANGLE, CIRCLE, CUBE\n}\n\nabstract class Shape extends GraphicObject {\n    private final ShapeKind kind;\n\n    protected Shape(ShapeKind kind, String color) {\n        super(color);\n        this.kind = kind;\n    }\n\n    public ShapeKind getKind() {\n        return kind;\n    }\n}\n\nabstract class TwoDShape extends Shape {\n    protected TwoDShape(ShapeKind kind, String color) {\n        super(kind, color);\n    }\n}\n\nabstract class ThreeDShape extends Shape {\n    protected ThreeDShape(ShapeKind kind, String color) {\n        super(kind, color);\n    }\n}\n\n\nclass Rectangle extends TwoDShape {\n    private final double width;\n    private final double height;\n\n    public Rectangle(double width, double height, String color) {\n        super(ShapeKind.RECTANGLE, color);\n        this.width = width;\n        this.height = height;\n    }\n\n    public double getWidth()  { return width;  }\n    public double getHeight() { return height; }\n}\n\nclass Circle extends TwoDShape {\n    private final double radius;\n\n    public Circle(double radius, String color) {\n        super(ShapeKind.CIRCLE, color);\n        this.radius = radius;\n    }\n\n    public double getRadius() { return radius; }\n}\n\nclass Cube extends ThreeDShape {\n    private final double edge;\n\n    public Cube(double edge, String color) {\n        super(ShapeKind.CUBE, color);\n        this.edge = edge;\n    }\n\n    public double getEdge() { return edge; }\n}\n\nenum Metric { AREA, PERIMETER, VOLUME }\n\nclass MetricCalculator {\n    public double compute(Shape shape, Metric metric) {\n        switch (shape.getKind()) {\n            case RECTANGLE: {\n                Rectangle r = (Rectangle) shape;\n                return switch (metric) {\n                    case AREA      -> r.getWidth() * r.getHeight();\n                    case PERIMETER -> 2 * (r.getWidth() + r.getHeight());\n                    case VOLUME    -> 0;\n                };\n            }\n            case CIRCLE: {\n                Circle c = (Circle) shape;\n                return switch (metric) {\n                    case AREA      -> Math.PI * c.getRadius() * c.getRadius();\n                    case PERIMETER -> 2 * Math.PI * c.getRadius(); \n                    case VOLUME    -> 0;\n                };\n            }\n            case CUBE: {\n                Cube cube = (Cube) shape;\n                return switch (metric) {\n                    case AREA      -> 6 * cube.getEdge() * cube.getEdge();\n                    case PERIMETER -> 12 * cube.getEdge();\n                    case VOLUME    -> Math.pow(cube.getEdge(), 3);\n                };\n            }\n            default:\n                return 0;\n        }\n    }\n}\n\nclass ShapeExporter {\n    public String toJson(Shape shape) {\n        switch (shape.getKind()) {\n            case RECTANGLE: {\n                Rectangle r = (Rectangle) shape;\n                return String.format(\n                    \"{\\\"type\\\":\\\"rectangle\\\",\\\"color\\\":\\\"%s\\\",\\\"width\\\":%.2f,\\\"height\\\":%.2f}\",\n                    r.getColor(), r.getWidth(), r.getHeight()\n                );\n            }\n            case CIRCLE: {\n                Circle c = (Circle) shape;\n                return String.format(\n                    \"{\\\"type\\\":\\\"circle\\\",\\\"color\\\":\\\"%s\\\",\\\"radius\\\":%.2f}\",\n                    c.getColor(), c.getRadius()\n                );\n            }\n            case CUBE: {\n                Cube cube = (Cube) shape;\n                return String.format(\n                    \"{\\\"type\\\":\\\"cube\\\",\\\"color\\\":\\\"%s\\\",\\\"edge\\\":%.2f}\",\n                    cube.getColor(), cube.getEdge()\n                );\n            }\n            default:\n                return \"{}\";\n        }\n    }\n}\n\nclass ShapeFactory {\n    public Shape create(String spec) {\n        String[] parts = spec.split(\":\", 2);\n        String type = parts[0].trim();\n        String[] kvs = (parts.length > 1 ? parts[1] : \"\").split(\";\");\n        java.util.Map<String, String> map = new java.util.HashMap<>();\n        for (String kv : kvs) {\n            String[] p = kv.split(\"=\");\n            if (p.length == 2) map.put(p[0].trim(), p[1].trim());\n        }\n        String color = map.getOrDefault(\"color\", \"black\");\n\n        switch (type.toLowerCase()) {\n            case \"rectangle\":\n                return new Rectangle(\n                    Double.parseDouble(map.getOrDefault(\"width\", \"0\")),\n                    Double.parseDouble(map.getOrDefault(\"height\", \"0\")),\n                    color\n                );\n            case \"circle\":\n                return new Circle(\n                    Double.parseDouble(map.getOrDefault(\"radius\", \"0\")),\n                    color\n                );\n            case \"cube\":\n                return new Cube(\n                    Double.parseDouble(map.getOrDefault(\"edge\", \"0\")),\n                    color\n                );\n            default:\n                throw new IllegalArgumentException(\"Unknown shape: \" + type);\n        }\n    }\n}"]
